{"version":3,"sources":["app.js"],"names":["makeSwiper","swiperObj","direction","touchMoveStopPropagation","paginationClickable","pagination","iOSEdgeSwipeDetection","flip","slideShadows","onTransitionEnd","swiper","event","console","log","httpAnswer","Swiper","app","angular","module","config","$stateProvider","$urlRouterProvider","when","state","url","templateUrl","controller","allFactory","userId","teleNum","password","HASHPASSWD","tagIP","postRegister","postLogin","ipAddress","setAnwserAddress","isLogin","isRemember","directive","$compile","restrict","link","scope","element","attrs","$watch","$eval","bindHtmlCompile","value","html","contents","filter","$sce","text","trustAsHtml","$scope","$rootScope","httpLinkClick","inputText","attr","$last","rootSwiper","sumWeight","tagArr","tagArrResult","secQue","length","options","questionAnswerType","splitWeight","origionArr","i","sum","item","finalSplitedArr","itemTwo","slice","takePagesNum","$pagin","$","append","$http","$cookies","$cookieStore","$state","md5","addClass","height","window","setModOneQue","alertLogin","swal","title","allowOutsideClick","showCloseButton","animation","input","inputPlaceholder","inputValidator","Promise","resolve","reject","$teleNum","val","test","showCancelButton","confirmButtonText","cancelButtonText","then","result","createHash","post","roleName","success","resp","msg","getPage","localStorage","userInfo","JSON","stringify","clear","resetDefaults","type","showConfirmButton","timer","dismiss","errorText","alertRegister","noop","setDefaults","progressSteps","yourPassWord","steps","queue","thisModule","userAnswer","fillBlank","uuid","alert","thisQues","UUID","answerId","judgeHaveAnswered","_","each","b","push","chooseSin","option","chooseDou","judgeOption","ans","k","splice","setModOne","paperModule","modOne","flatten","body","questions","error","data","header","status","answer","nextMode","go","parse","setModTwoQue","setModTwo","modTwo","prevMode","setModThreeQue","setModThree","modThree","setModFourQue","setModFour","modFour","setModFiveQue","setModFive","modFive","setModSixQue","setModSix","modSix","finishAll","replace","template","prev","slidePrev","next","slideNext","pageUrl"],"mappings":"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","file":"app.js","sourcesContent":["//启动入口\nvar app = angular.module('myApp', [\"ngRoute\", \"ui.router\", \"angular-md5\", \"ngSanitize\", \"ngCookies\"])\n\napp.config(function ($stateProvider, $urlRouterProvider) {\n\t$urlRouterProvider.when(\"\", \"/personal\"); // TODO: change to personal\n\t$stateProvider\n\t\t.state('personal', {\n\t\t\turl: \"/personal\",\n\t\t\ttemplateUrl: \"./html/personal.html\",\n\t\t\tcontroller: \"personalCtrl\"\n\t\t})\n\t\t.state('basicSituation', {\n\t\t\turl: \"/basicSituation\",\n\t\t\ttemplateUrl: \"./html/basicSituation.html\",\n\t\t\tcontroller: \"basicSituationCtrl\"\n\t\t})\n\t\t.state('medicalHistory', {\n\t\t\turl: \"/medicalHistory\",\n\t\t\ttemplateUrl: \"./html/medicalHistory.html\",\n\t\t\tcontroller: \"medicalHistoryCtrl\"\n\t\t})\n\t\t.state('habitsCustoms', {\n\t\t\turl: \"/habitsCustoms\",\n\t\t\ttemplateUrl: \"./html/habitsCustoms.html\",\n\t\t\tcontroller: \"habitsCustomsCtrl\"\n\t\t})\n\t\t.state('medication', {\n\t\t\turl: \"/medication\",\n\t\t\ttemplateUrl: \"./html/medication.html\",\n\t\t\tcontroller: \"medicationCtrl\"\n\t\t})\n\t\t.state('breast', {\n\t\t\turl: \"/breast\",\n\t\t\ttemplateUrl: \"./html/breast.html\",\n\t\t\tcontroller: \"breastCtrl\"\n\t\t})\n\t\t.state('login', {\n\t\t\turl: \"/login\",\n\t\t\ttemplateUrl: \"./html/login.html\",\n\t\t\tcontroller: \"loginCtrl\"\n\t\t})\n});\n\nvar allFactory = {\n\t\"userId\": \"\",\n\t\"teleNum\": \"\",\n\t\"password\": \"\",\n\t\"HASHPASSWD\": \"\",\n\t\"tagIP\": \"http://10.24.14.92\", //测试用 ip\n\t// \"tagIP\": \"http://120.27.49.154\",\t//生产用 ip\n\t\"postRegister\": \"//120.27.49.154/BreastCancer/register\", //测试用注册\n\t\"postLogin\": \"//120.27.49.154/BreastCancer/login\", //测试用登录\n\t\"ipAddress\": \"//120.27.49.154/BreastCancer/getQuestion\", //测试用请求题目\n\t\"setAnwserAddress\": \"//120.27.49.154/BreastCancer/getInsertInfo\", //测试用提交答案\n\t\"isLogin\": false,\n\t\"isRemember\": true\n}\n\n// var module = angular.module('angular-bind-html-compile', []);\n// module.directive('bindHtmlCompile', ['$compile',\n// \tfunction ($compile) {\n// \t\treturn {\n// \t\t\trestrict: 'A',\n// \t\t\tlink: function (scope, element, attrs) {\n// \t\t\t\tscope.$watch(function () {\n// \t\t\t\t\t\treturn scope.$eval(attrs.bindHtmlCompile);\n// \t\t\t\t\t},\n// \t\t\t\t\tfunction (value) {\n// \t\t\t\t\t\telement.html(value);\n// \t\t\t\t\t\t$compile(element.contents())(scope);\n// \t\t\t\t\t});\n// \t\t\t}\n// \t\t};\n// \t}\n// ]);\n// var module = angular.module('angularBindHtmlCompile', []);\n\napp.directive('bindHtmlCompile', ['$compile', function ($compile) {\n\treturn {\n\t\trestrict: 'A',\n\t\tlink: function (scope, element, attrs) {\n\t\t\tscope.$watch(function () {\n\t\t\t\treturn scope.$eval(attrs.bindHtmlCompile);\n\t\t\t}, function (value) {\n\t\t\t\telement.html(value);\n\t\t\t\t$compile(element.contents())(scope);\n\t\t\t});\n\t\t}\n\t};\n}]);\n\n// 用于全局答题函数\nvar httpAnswer;\n\n//挂载到任意一个angular.module下，用于 ng-bind-html\napp.filter('to_trusted', ['$sce', function ($sce) {\n\treturn function (text) {\n\t\treturn $sce.trustAsHtml(text);\n\t};\n}]);\n\napp.filter('to_compile', ['scope', '$compilr', function (scope, $compile) {\n\treturn function (text) {\n\t\treturn $compile(text)($scope);\n\t};\n}]);\n\napp.filter('httpClickFilter', function ($sce, $compile, $rootScope) {\n    $rootScope.httpLinkClick = function () {\n        console.log(234);\n    };\n    return function (inputText) {\n        return $sce.trustAsHtml($compile('<div style=\"background-color:#000\">' + inputText + '</div>')($rootScope).html());\n    }\n});\n\n// 监听 ng-reapeat 完成\napp.directive('repeatFinish', function () {\n\treturn {\n\t\tlink: function (scope, element, attr) {\n\t\t\tif (scope.$last == true) {\n\t\t\t\tscope.rootSwiper = makeSwiper()\n\t\t\t\tconsole.log('ng-repeat render finish')\n\t\t\t}\n\t\t}\n\t}\n})\n\n// 初始化 swiper\nfunction makeSwiper() {\n\tvar swiperObj = {\n\t\tdirection: 'horizontal',\n\t\ttouchMoveStopPropagation: true, //阻止冒泡\n\t\tpaginationClickable: true,\n\t\tpagination: '.swiper-pagination',\n\t\tiOSEdgeSwipeDetection: true,\n\t\t// autoplayDisableOnInteraction : false,\n\t\t// observer: true, //修改swiper自己或子元素时，自动初始化swiper\n\t\t// observeParents: true, //修改swiper的父元素时，自动初始化swiper\n\t\tflip: {\n\t\t\tslideShadows: false\n\t\t},\n\t\tonTransitionEnd: function (swiper, event) {\n\t\t\tconsole.log(\"slide\")\n\t\t\t// debugger\n\t\t\thttpAnswer(); //TODO:后期可以做一些模块化处理\n\t\t}\n\t};\n\treturn new Swiper('.swiper-container', swiperObj);\n}\n\n// 计算权重的函数\nvar sumWeight = function (tagArr) {\n\t// debugger\n\tvar tagArrResult = [];\n\tfor (var secQue = 0; secQue < tagArr.length; secQue++) {\n\t\tif (tagArr[secQue].options && (tagArr[secQue].questionAnswerType == '0' || tagArr[secQue].questionAnswerType == '1' || tagArr[secQue].questionAnswerType == '2' || tagArr[secQue].questionAnswerType == '4' || tagArr[secQue].questionAnswerType == '5' || tagArr[secQue].questionAnswerType == '7')) {\n\t\t\ttagArrResult[secQue] = tagArr[secQue].options.length + 1;\n\t\t} else if (tagArr[secQue].questionAnswerType == '3' || tagArr[secQue].questionAnswerType == '6') {\n\t\t\ttagArrResult[secQue] = 2;\n\t\t} else {\n\t\t\ttagArrResult[secQue] = 2;\n\t\t}\n\t}\n\tconsole.log(tagArrResult)\n\treturn splitWeight(tagArrResult, tagArr);\n}\n\n// 计算切割位置并切割\nvar splitWeight = function (tagArr, origionArr) {\n\t// debugger\n\tvar i = 0,\n\t\tsum = 0,\n\t\ttagArrResult = [];\n\tfor (var item in tagArr) {\n\t\tif (tagArr[item] + sum <= 13) {\n\t\t\tsum += tagArr[item];\n\t\t} else {\n\t\t\tsum = 0;\n\t\t\ttagArrResult[i] = item;\n\t\t\ti += 1;\n\t\t}\n\t}\n\tif (tagArrResult.length == 0) {\n\t\treturn [origionArr]\n\t}\n\tconsole.log(tagArrResult)\n\n\tvar finalSplitedArr = [];\n\tfor (var itemTwo in tagArrResult) {\n\t\tif (itemTwo == 0) {\n\t\t\tfinalSplitedArr[itemTwo] = origionArr.slice(0, tagArrResult[itemTwo]);\n\t\t} else {\n\t\t\tfinalSplitedArr[itemTwo] = origionArr.slice(tagArrResult[itemTwo - 1], tagArrResult[itemTwo]);\n\t\t}\n\t\tfinalSplitedArr[tagArrResult.length] = origionArr.slice(tagArrResult[tagArrResult.length - 1], tagArrResult[tagArrResult.length]);\n\t}\n\treturn finalSplitedArr\n}\n\n// 计算页数并显示TODO\nvar takePagesNum = function (tagArr) {\n\tvar $pagin = $(\".swiper-pagination\")\n\tfor (var i in tagArr) {\n\t\t$pagin.append('<span class=\"swiper-pagination-bullet\"></span>')\n\t}\n}\n\n// 1个人信息\napp.controller('personalCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5, $compile) {\n\n\t// 进入页面一些初始化配置\n\tconsole.log(\"personalCtrl  p1\");\n\t$(\".icon-gerenxinxi\").addClass(\"active\")\n\t// $rootScope.swiper = makeSwiper()\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\n\t$scope.setModOneQue = function (tagArr) {\n\t\tconsole.log(tagArr);\n\t\t// takePagesNum(tagArr)\n\t}\n\t// 登录弹窗\n\t$rootScope.alertLogin = function () {\n\t\tswal({\n\t\t\ttitle: '登录',\n\t\t\t// type: 'warning',\n\t\t\tallowOutsideClick: false,\n\t\t\tshowCloseButton: false,\n\t\t\tanimation: false,\n\t\t\tinput: 'password',\n\t\t\tinputPlaceholder: '密码(6-10位)',\n\t\t\thtml: '<div class=\"weui-cell__hd\"><input type=\"checkbox\" class=\"loginCheckbox\" name=\"checkbox1\" id=\"loginCheckbox\" checked=\"checked\"><span>记住密码自动登录</span></div>' +\n\t\t\t\t'<input class=\"swal2-input\" id=\"teleNum\" placeholder=\"手机号/用户名\" type=\"text\" style=\"display: block;\" autofocus>',\n\n\n\t\t\tinputValidator: function (value) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t// console.log(value)\n\t\t\t\t\t$teleNum = $('#teleNum').val();\n\t\t\t\t\tif ((/^1(3|4|5|7|8)\\d{9}$/.test($teleNum)) && (value.length >= 6 && value.length <= 10)) {\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t} else if (!(/^1(3|4|5|7|8)\\d{9}$/.test($teleNum))) {\n\t\t\t\t\t\treject('请正确填写手机号!')\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('请正确填写密码!')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: '登录',\n\t\t\tcancelButtonText: '去注册'\n\t\t}).then(function (result) {\n\t\t\tallFactory.teleNum = $('#teleNum').val();\n\t\t\tallFactory.password = result;\n\t\t\tallFactory.HASHPASSWD = md5.createHash(result);\n\n\t\t\t// debugger\n\t\t\t$http.post(allFactory.postLogin, {\n\t\t\t\t\t\"teleNum\": allFactory.teleNum,\n\t\t\t\t\t\"password\": allFactory.HASHPASSWD,\n\t\t\t\t\t\"roleName\": \"patient\",\n\t\t\t\t\t\"isRemember\": allFactory.isRemember\n\t\t\t\t})\n\t\t\t\t.success(function (resp) {\n\t\t\t\t\tif (resp.msg) {\n\t\t\t\t\t\t// console.log(resp.body)\n\t\t\t\t\t\tallFactory.isLogin = true;\n\t\t\t\t\t\tallFactory.userId = resp.userId;\n\t\t\t\t\t\t$scope.getPage();\n\t\t\t\t\t\t// putcookiecookie，自动登录\n\t\t\t\t\t\tif (allFactory.isRemember) {\n\t\t\t\t\t\t\t// debugger\n\t\t\t\t\t\t\twindow.localStorage.userInfo = JSON.stringify({\n\t\t\t\t\t\t\t\tteleNum: allFactory.teleNum,\n\t\t\t\t\t\t\t\tpassword: allFactory.HASHPASSWD\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.localStorage.clear()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswal.resetDefaults()\n\t\t\t\t\t\tswal({\n\t\t\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tshowCancelButton: false,\n\t\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\t\ttext: '请开始填写问卷，2秒后关闭',\n\t\t\t\t\t\t\ttimer: 2000\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction () {},\n\t\t\t\t\t\t\t// handling the promise rejection\n\t\t\t\t\t\t\tfunction (dismiss) {\n\t\t\t\t\t\t\t\tif (dismiss === 'timer') {\n\t\t\t\t\t\t\t\t\tconsole.log('I was closed by the timer')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswal('错误', resp.errorText, 'error').then(function () {\n\t\t\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t}, function (dismiss) {\n\t\t\tif (dismiss === 'cancel') {\n\t\t\t\t$scope.alertRegister()\n\t\t\t}\n\t\t}).catch(swal.noop)\n\t}\n\n\t// 注册弹窗\n\t$scope.alertRegister = function () {\n\t\tswal.setDefaults({\n\t\t\tinput: 'text',\n\t\t\tconfirmButtonText: '下一步&rarr;',\n\t\t\tallowOutsideClick: false,\n\t\t\tshowCloseButton: false,\n\t\t\tshowCancelButton: true,\n\t\t\tanimation: false,\n\t\t\tcancelButtonText: '去登录',\n\t\t\tprogressSteps: ['1', '2', '3', '4']\n\t\t})\n\n\t\tvar yourPassWord;\n\n\t\tvar steps = [{\n\t\t\ttitle: '手机号码',\n\t\t\tinput: 'text',\n\t\t\tinputPlaceholder: '请输入您的真实手机号码',\n\t\t\tconfirmButtonText: '发送验证码',\n\t\t\tinputValidator: function (value) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif ((/^1(3|4|5|7|8)\\d{9}$/.test(value))) { // TODO：验证手机号\n\t\t\t\t\t\tallFactory.teleNum = value\n\t\t\t\t\t\t// $http.post(allFactory.postRegister, {\n\t\t\t\t\t\t// \t\t\"teleNum\": \"13220101996\",//allFactory.teleNum,\n\t\t\t\t\t\t// \t\t\"password\": thisModule,\n\t\t\t\t\t\t// \t\t\"answer\": $scope.userAnswer\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \t.success(function (resp) {\n\t\t\t\t\t\t// \t\tif (resp.msg) {\n\t\t\t\t\t\t// \t\t\tconsole.log(resp.body)\n\t\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t\t// \t\t\tswal('网络错误，请重试', '', 'error')\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t});\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('请输入正确的手机号')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}, {\n\t\t\ttitle: '验证码',\n\t\t\tinput: 'text',\n\t\t\tinputPlaceholder: '请填入刚刚收到的验证码'\n\t\t}, {\n\t\t\ttitle: '密码',\n\t\t\tinput: 'password',\n\t\t\tinputPlaceholder: '密码(6-10位)',\n\t\t\tinputValidator: function (value) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (value.length >= 6 && value.length <= 10) {\n\t\t\t\t\t\tyourPassWord = value;\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('请按格式正确输入密码')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}, {\n\t\t\ttitle: '重复输入密码',\n\t\t\tinput: 'password',\n\t\t\tconfirmButtonText: '注册',\n\t\t\tinputPlaceholder: '重复输入密码(6-10位)',\n\t\t\tinputValidator: function (value) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (value.length >= 6 && value.length <= 10 && value == yourPassWord) {\n\t\t\t\t\t\tallFactory.password = yourPassWord;\n\t\t\t\t\t\tallFactory.HASHPASSWD = md5.createHash(yourPassWord);\n\n\t\t\t\t\t\t$http.post(allFactory.postRegister, {\n\t\t\t\t\t\t\t\t\"teleNum\": allFactory.teleNum,\n\t\t\t\t\t\t\t\t\"password\": allFactory.HASHPASSWD,\n\t\t\t\t\t\t\t\t\"roleName\": \"patient\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.success(function (resp) {\n\t\t\t\t\t\t\t\tif (resp.msg) {\n\t\t\t\t\t\t\t\t\t// console.log(resp.body)\n\t\t\t\t\t\t\t\t\tallFactory.userId = resp.userId;\n\t\t\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t\t\t\tallFactory.isLogin = true;\n\t\t\t\t\t\t\t\t\t$scope.getPage()\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tswal.resetDefaults()\n\t\t\t\t\t\t\t\t\tswal('错误', resp.errorText, 'error').then(function () {\n\t\t\t\t\t\t\t\t\t\t$scope.alertRegister()\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t} else if (value != yourPassWord) {\n\t\t\t\t\t\treject('密码输入不符')\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('请按格式正确输入密码')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}]\n\n\t\tswal.queue(steps).then(function (result) {\n\t\t\tswal.resetDefaults()\n\t\t\tswal({\n\t\t\t\ttitle: '注册成功',\n\t\t\t\ttype: 'success',\n\t\t\t\tshowCancelButton: false,\n\t\t\t\tshowConfirmButton: false,\n\t\t\t\ttext: '请开始填写问卷，2秒后关闭',\n\t\t\t\ttimer: 2000\n\t\t\t}).then(\n\t\t\t\tfunction () {},\n\t\t\t\t// handling the promise rejection\n\t\t\t\tfunction (dismiss) {\n\t\t\t\t\tif (dismiss === 'timer') {\n\t\t\t\t\t\tconsole.log('I was closed by the timer')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}, function (dismiss) {\n\t\t\tif (dismiss === 'cancel') {\n\t\t\t\tswal.resetDefaults()\n\t\t\t\t$rootScope.alertLogin()\n\t\t\t}\n\t\t})\n\t}\n\n\n\t// 当前模块号\n\tvar thisModule = 1;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModOneQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t// $compile(tagArr)($scope)\n\t\t$scope.setModOne = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modOne = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModOneQue($scope.modOne);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.nextMode = function () {\n\t\t$state.go('basicSituation', {})\n\t}\n\n\t// 测试代码\n\t// $scope.getPage()\n\t// $rootScope.alertLogin();\n\t// if (allFactory.isLogin) {\n\t// \t$scope.getPage()\n\t// \t// allFactory.userId = $scope.cookUser.userId;\n\t// \t// allFactory.HASHPASSWD = $scope.cookUser.HASHPASSWD;\n\t// } else {\n\t// \t$rootScope.alertLogin();\n\t// }\n\n\n\t// 下面为生产代码\n\tif (allFactory.isLogin || window.localStorage.userInfo) {\n\t\tallFactory.teleNum = JSON.parse(window.localStorage.userInfo).teleNum\n\t\tallFactory.HASHPASSWD = JSON.parse(window.localStorage.userInfo).HASHPASSWD\n\t\tswal('已登录', '账号：' + allFactory.teleNum, 'success')\n\t\t$scope.getPage()\n\t\t// allFactory.userId = $scope.cookUser.userId;\n\t\t// allFactory.HASHPASSWD = $scope.cookUser.HASHPASSWD;\n\t} else {\n\t\t$rootScope.alertLogin();\n\t}\n});\n\n// 2基本情况\napp.controller('basicSituationCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5) {\n\t// if(!allFactory.isLogin) $state.go('personal',{})\n\n\t// 这里是一个 md5加密的例子\n\t// console.log(md5.createHash('444444').length)\n\n\tconsole.log(\"basicSituationCtrl  p2\");\n\t$(\".icon-xinyongqingkuang-copy\").addClass(\"active\")\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\t// 当前模块号\n\tvar thisModule = 2;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModTwoQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t$scope.setModTwo = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modTwo = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModTwoQue($scope.modTwo);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.nextMode = function () {\n\t\t$state.go('medicalHistory', {})\n\t}\n\t$scope.prevMode = function () {\n\t\t$state.go('personal', {})\n\t}\n\n\t$scope.getPage()\n\n\t// 测试代码\n\t// $scope.getPage()\n\t// $rootScope.alertLogin();\n\t// if (allFactory.isLogin) {\n\t// \t$scope.getPage()\n\t// \t// allFactory.userId = $scope.cookUser.userId;\n\t// \t// allFactory.HASHPASSWD = $scope.cookUser.HASHPASSWD;\n\t// } else {\n\t// \t$rootScope.alertLogin();\n\t// }\n\n\t// // 拿到 cookie\n\t// $scope.cookUser = $cookieStore.get(\"user\");\n\t// console.log($scope.cookUser)\n\t// $cookieStore.remove(\"user\");\n\n\t// 下面为生产代码\n\t// if (allFactory.isLogin || $scope.cookUser && ($scope.cookUser.userId && $scope.cookUser.HASHPASSWD)) {\n\t// \t$scope.getPage()\n\t// \tallFactory.userId = $scope.cookUser.userId;\n\t// \tallFactory.HASHPASSWD = $scope.cookUser.HASHPASSWD;\n\t// } else {\n\t// \t$rootScope.alertLogin();\n\t// }\n});\n\n// 3疾病与家族史\napp.controller('medicalHistoryCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5) {\n\tconsole.log(\"medicalHistoryCtrl  p3\");\n\t$(\".icon-bingli\").addClass(\"active\")\n\t// $rootScope.swiper = makeSwiper()\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\n\t// 当前模块号\n\tvar thisModule = 3;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModThreeQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t$scope.setModThree = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modThree = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModThreeQue($scope.modThree);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.nextMode = function () {\n\t\t$state.go('habitsCustoms', {})\n\t}\n\t$scope.prevMode = function () {\n\t\t$state.go('basicSituation', {})\n\t}\n\n\t$scope.getPage()\n});\n\n// 4生活习惯\napp.controller('habitsCustomsCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5) {\n\tconsole.log(\"habitsCustomsCtrl  p4\");\n\t$(\".icon-shenghuo\").addClass(\"active\")\n\t// $rootScope.swiper = makeSwiper()\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\n\t// 当前模块号\n\tvar thisModule = 4;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModFourQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t$scope.setModFour = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modFour = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModFourQue($scope.modFour);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.nextMode = function () {\n\t\t$state.go('medication', {})\n\t}\n\t$scope.prevMode = function () {\n\t\t$state.go('medicalHistory', {})\n\t}\n\n\t$scope.getPage()\n});\n\n// 5服药、使用化学药剂史\napp.controller('medicationCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5) {\n\tconsole.log(\"medicationCtrl  p5\");\n\t$(\".icon-yao\").addClass(\"active\")\n\t// $rootScope.swiper = makeSwiper()\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\n\t// 当前模块号\n\tvar thisModule = 5;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModFiveQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t$scope.setModFive = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modFive = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModFiveQue($scope.modFive);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.nextMode = function () {\n\t\t$state.go('breast', {})\n\t}\n\t$scope.prevMode = function () {\n\t\t$state.go('habitsCustoms', {})\n\t}\n\n\t$scope.getPage()\n});\n\n// 6乳腺相关知识\napp.controller('breastCtrl', function ($scope, $rootScope, $http, $cookies, $cookieStore, $state, md5) {\n\tconsole.log(\"breastCtrl  p6\");\n\t$(\".icon-zhishichanquan2\").addClass(\"active\")\n\t// $rootScope.swiper = makeSwiper()\n\t$(\".swiper-slide\").height($(window).height() - 50);\n\n\t// 当前模块号\n\tvar thisModule = 6;\n\n\t// 答案数组\n\t$scope.userAnswer = []\n\n\t// 填空答题\n\t$scope.fillBlank = function (uuid, value) {\n\t\talert(\"s\")\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [value]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [value];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 单选题选择事件\n\t$scope.chooseSin = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tb.answerId = [option];\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 多选题答题事件\n\t$scope.chooseDou = function (uuid, option) {\n\t\tvar thisQues = {\n\t\t\t\"UUID\": uuid,\n\t\t\t\"answerId\": [option]\n\t\t}\n\n\t\t// 若答过就不添加只修改\n\t\tif ($scope.userAnswer.length != 0) {\n\t\t\tvar judgeHaveAnswered = false;\n\t\t\t_.each($scope.userAnswer, function (b) {\n\t\t\t\tif (b.UUID == uuid) {\n\t\t\t\t\tvar judgeOption = false;\n\t\t\t\t\t_.each(b.answerId, function (ans, k) {\n\t\t\t\t\t\tif (ans == option) {\n\t\t\t\t\t\t\tb.answerId.splice(k, 1)\n\t\t\t\t\t\t\t// 若已选过，则删除这个 option\n\t\t\t\t\t\t\tjudgeOption = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!judgeOption) {\n\t\t\t\t\t\tb.answerId.push(option)\n\t\t\t\t\t}\n\t\t\t\t\tjudgeHaveAnswered = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!judgeHaveAnswered) {\n\t\t\t\t$scope.userAnswer.push(thisQues)\n\t\t\t}\n\t\t} else {\n\t\t\t$scope.userAnswer.push(thisQues)\n\t\t}\n\t\tconsole.log($scope.userAnswer)\n\t}\n\n\t// 渲染题目\n\t$scope.setModSixQue = function (tagArr) {\n\t\tconsole.log(tagArr)\n\t\t$scope.setModSix = tagArr;\n\t}\n\n\t// 请求题目\n\t$scope.getPage = function () {\n\t\t$http.post(allFactory.ipAddress, {\n\t\t\t\t'teleNum': allFactory.teleNum,\n\t\t\t\t'paperModule': thisModule\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tconsole.log(resp)\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\t$scope.modSix = sumWeight(_.flatten(resp.body.questions));\n\t\t\t\t\t// console.log(sumWeight($scope.modOne))\n\t\t\t\t\t$scope.setModSixQue($scope.modSix);\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t\t$rootScope.alertLogin()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t// 用户回答\n\thttpAnswer = function () {\n\t\t$http.post(allFactory.setAnwserAddress, {\n\t\t\t\t\"userId\": allFactory.userId,\n\t\t\t\t\"paperModule\": thisModule,\n\t\t\t\t\"answer\": $scope.userAnswer\n\t\t\t})\n\t\t\t.success(function (resp) {\n\t\t\t\tif (resp.msg) {\n\t\t\t\t\tconsole.log(resp.body)\n\t\t\t\t} else {\n\t\t\t\t\tswal('网络错误，请重试', resp.errorText, 'error')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.error(function (data, header, config, status) {\n\t\t\t\tswal('网络错误', '错误信息：' + header, 'error')\n\t\t\t});\n\t}\n\n\t$scope.finishAll = function () {\n\t\tswal('提交成功', '', 'success')\n\t}\n\t$scope.prevMode = function () {\n\t\t$state.go('medication', {})\n\t}\n\n\t$scope.getPage()\n});\n\napp.controller('loginCtrl', function ($scope, $rootScope, $http) {\n\tconsole.log(\"222\");\n});\n\n// 上一页下一页\napp.directive('changePage', function () {\n\treturn {\n\t\trestrict: 'EA',\n\t\treplace: true,\n\t\ttemplate: '<div class=\"btn-group btn-group-md\"><button type=\"button\" ng-click=\"prev()\" class=\"btn btn-default\">上一页</button><button type=\"button\" ng-click=\"next()\" class=\"btn btn-default\">下一页</button></div>',\n\t\tcontroller: function ($scope, $rootScope) {\n\t\t\t$scope.prev = function () {\n\t\t\t\t$rootScope.swiper.slidePrev();\n\t\t\t}\n\t\t\t$scope.next = function () {\n\t\t\t\t$rootScope.swiper.slideNext();\n\t\t\t}\n\t\t}\n\t}\n})\n\n// 上一章下一页\napp.directive('prevMode', function ($state) {\n\treturn {\n\t\trestrict: 'EA',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tpageUrl: '&infoMode'\n\t\t},\n\t\ttemplate: '<div class=\"btn-group btn-group-md\"><button type=\"button\" ng-click=\"prev()\" class=\"btn btn-default\">上一章</button><button type=\"button\" ng-click=\"next()\" class=\"btn btn-default\">下一页</button></div>',\n\t\tcontroller: function ($scope, $rootScope, $state) {\n\t\t\t$scope.prev = function () {\n\t\t\t\t$state.go($scope.pageUrl, {})\n\t\t\t}\n\t\t\t$scope.next = function () {\n\t\t\t\t$rootScope.swiper.slideNext();\n\t\t\t}\n\t\t}\n\t}\n})\n\n// 上一页下一章\napp.directive('nextMode', function ($state) {\n\treturn {\n\t\trestrict: 'EA',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tpageUrl: '@infoMode'\n\t\t},\n\t\ttemplate: '<div class=\"btn-group btn-group-md\"><button type=\"button\" ng-click=\"prev()\" class=\"btn btn-default\">上一页</button><button type=\"button\" ng-click=\"next()\" class=\"btn btn-default\">下一章</button></div>',\n\t\tcontroller: function ($scope, $rootScope, $state) {\n\t\t\t$scope.prev = function () {\n\t\t\t\t$rootScope.swiper.slidePrev();\n\t\t\t}\n\t\t\t$scope.next = function () {\n\t\t\t\t$state.go($scope.pageUrl, {})\n\t\t\t}\n\t\t}\n\t}\n})"]}